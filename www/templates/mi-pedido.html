<ion-view view-title="">

  <ion-content>

    <div ng-show="mostrarMapa" id="map" data-tap-disabled="true">
    </div>

    <section ng-show="mostrarFormUbicacion">
      <div class="list list-inset">
        <div class="item" align="center">
          <i class="ion-ios-location"></i> <h2>Ubicación detectada</h2>
          <h2 style="color: #28a54c; text-decoration: underline;">{{direccion.calle}}, {{direccion.numero}}</h2>
          <p align="left" style="color: darkgrey;">
            Mejora la exactitud de la dirección<br>
            ingresando datos de referencia.
          </p>
        </div>
      </div>
      <div class="list">
        <label class="item item-input item-stacked-label">
          <span class="input-label">Nro de teléfono</span>
          <input type="text" placeholder="Teléfono">
        </label>
        <div class="list">
          <label class="item item-input item-stacked-label">
            <span class="input-label">Referencia</span>
            <input type="text" placeholder='Dir. exacta, piso, dpto, "frente a..."'>
          </label>
        </div>
      </div>
      <div class="row">
        <div class="col col-25">
          <button ng-click="volverAPedido()" class="button button-full button-default">
            Atrás
          </button>
        </div>
        <br>
        <div class="col">
          <button class="button button-full button-positive" ng-click="confirmarPedido()">
            Confirmar pedido
          </button>
        </div>
      </div>

    </section>

    <section ng-if="!abierto">
      <div class="list card">

        <div class="item">
          <h2>En estos momentos no estamos atendiendo</h2>
        </div>

        <div class="item item-body">
          <img class="full-image" src="">
          <p>
            Nuestros horarios son: de Jueves a Domingos de hs 22 a hs 6.
            Puedes recorrer nuestra carta de bebidas y conocer nuestros productos
          </p>

        </div>

      </div>
    </section >

    <section ng-if="abierto" ng-show=" mostrarTotales ">
      <div class="card">
        <div class="item item-divider">
          <div class="row">
            <div class="col col-50">Subtotal</div>
            <div class="col">$ {{ pedido.subTotal}}</div>
          </div>
          <div class="row">
            <div class="col col-50"><strong>Total</strong></div>
            <div class="col"><strong>$ {{ pedido.total }}</strong></div>
          </div>
        </div>

        <div class="item">
          <div class="row">
            <div class="col col-25" >
              <button ng-click="limpiarCarro()" class="button button-full button-default">
                <i class="ion-trash-a"></i>
              </button>
            </div>
            <div class="col">
              <button  ng-click="verUbicacion()" class="button button-full button-positive">Finalizar compra</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div ng-if="abierto" class="list">
      <div class="item item-divider" align="left">
         <h2 style="color: #007aff;">Detalle de tu pedido</h2>
      </div>
    </div>
    <div class="list" ng-repeat="ped in pedidoActual.detalle" ng-if="$index > 0">
      <div class="item item-avatar">
        <img src="http://23.94.249.163/appDrinks/img/productos/{{ped.producto.urlImg}}">
        <h2> {{ped.producto.nombre}}</h2>
        <div class="row">
          <div class="col" align="left">
            <strong> {{ped.cantidad}}</strong>
          </div>
          <div class="col" align="left">
            c/u $ {{ped.producto.precio}}
          </div>
          <div class="col col-75" align="left">

          </div>
        </div>
        <div class="row">
          <div class="col">
            <button ng-disabled="bloquearBtns" ng-click="addCantidad(ped)" class="button button-outline button-small ion-plus button-balanced"></button>
          </div>
          <div class="col">
            &nbsp;<button ng-disabled="bloquearBtns" ng-click="restarCantidad(ped)" class="button button-outline button-small ion-minus button-assertive"></button>
          </div>
          <div class="col col-75">
            &nbsp;<button ng-disabled="bloquearBtns" ng-click="eliminarProducto(ped)" class="button button-small button-assertive ion-trash-a assertive">
            </button>
            <strong>&nbsp;Subt. $ {{ ped.subTotal }}</strong>
          </div>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>
<!--<div class="bar bar-footer bar-light" >
  <button ng-click="limpiarCarro()" class="button button-positive">
    Finalizar la compra
  </button>
  Limpiar carro<a href="#/app/mi-pedido" class="button button-clear pull-rigth"><i class="icon ion-ios-cart"></i></a>
</div>
-->
