<ion-view view-title="">
  <ion-content style="margin-bottom: 50px;">
    <img class=" {{ categoria.urlImg }} sombra-categ" >

    <section ng-switch="categoria.nombre">

      <section ng-show="!showBySubCategory && !showAll"  ng-switch-when="Vinos">
        <div style="width: 100%; height: 60px; margin-bottom: 10px; background-color: #5F021F; margin-top: -25px; padding:14px;">
          <h5 style="color: white;">Nuestras bodegas</h5>
         </div>
        <div class="list" ng-repeat="cellar in cellars">
          <a ng-click=showProductsBySubCategory(cellar) class="item item-thumbnail-left">
            <img src={{cellar.urlImg}}>
            <br>
            <h2>{{cellar.name}}</h2>
            <p>Procedencia: Mendoza, Argentina</p>
            <p></p>
          </a>
        </div>
      </section>

      <section ng-show="!showProducts" ng-switch-when="Cervezas">
        <div class="list" ng-repeat="country in countries">
          <a ng-click=showProductsBySubCategory(country.id) class="item item-thumbnail-left">
            <h2> {{country.name }}</h2>
          </a>
        </div>
      </section>

      <!-- *********   SHOW ALL PRODUCTS *********** -->
      <div ng-if="showAll" class="list" ng-repeat="producto in productos ">
        <a href="#/app/producto/producto-detalle/{{producto}}" class="item item-thumbnail-left">
          <img class="list-prod" src={{decode(producto.urlImg)}}>
          <h2> {{producto.nombre}}</h2>
          <p>$ {{producto.precio}}</p>
          <button class="button button-small button-clear icon-center ion-record button-dark"> {{producto.stock}}</button>
        </a>
      </div>

      <!-- *********   SHOW BY SUBCATEGORY *********** -->
      <div ng-if="showBySubCategory" style="width: 100%; height: 60px; margin-bottom: 10px; background-color: #5F021F; margin-top: -25px; padding:14px;">
        <h5 style="color: white;"> {{subCategory.name}}</h5>
      </div>
      <p ng-if="productos.length < 1 && showBySubCategory">No se encontraron productos.</p>
      <div ng-if="showBySubCategory" class="list" ng-repeat="producto in productos | filter: {subCategoryId: subCategory.id} ">
        <a href="#/app/producto/producto-detalle/{{producto}}" class="item item-thumbnail-left">
          <img class="list-prod" src={{decode(producto.urlImg)}}>
          <h2> {{producto.nombre}}</h2>
          <p>$ {{producto.precio}}</p>
          <button class="button button-small button-clear icon-center ion-record button-dark"> {{producto.stock}}</button>
        </a>
      </div>
    </section>
  </ion-content>
  <div class="bar bar-footer bar-dark" style="padding-top: 0!important;">
    <button ng-if="showBySubCategory || showAll" ng-click="backToSubcategory()" class="button button-block button-dark">
        <i class="ion-chevron-left"> Atr√°s</i>
    </button>
    <button ng-if="!showBySubCategory && !showAll" ng-click="showAllProducts()" class="button button-block button-clear">
        Ver todos los productos
    </button>
  </div>
</ion-view>
